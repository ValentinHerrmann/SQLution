<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Embedded-Test</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <script src="lib/pako/pako.js"></script>
    <script src="lib/zip.js/zip.min.js"></script>
    <script src="lib/markdownit/markdownit.min.js"></script>



    <script>window.javaOnlineDir = "";</script>

  <script type="module" crossorigin src="./sql-ide-embedded.js"></script>
  <link rel="modulepreload" crossorigin href="./assets/js/jquery.js">
  <link rel="modulepreload" crossorigin href="./assets/js/pako.js">
  <link rel="modulepreload" crossorigin href="./assets/js/sql.js.js">
  <link rel="modulepreload" crossorigin href="./assets/js/zip.js.js">
  <link rel="modulepreload" crossorigin href="./assets/js/mdurl.js">
  <link rel="modulepreload" crossorigin href="./assets/js/uc.micro.js">
  <link rel="modulepreload" crossorigin href="./assets/js/entities.js">
  <link rel="modulepreload" crossorigin href="./assets/js/linkify-it.js">
  <link rel="modulepreload" crossorigin href="./assets/js/punycode.js.js">
  <link rel="modulepreload" crossorigin href="./assets/js/markdown-it.js">
  <link rel="modulepreload" crossorigin href="./sql-ide-embedded.js">
  <link rel="modulepreload" crossorigin href="./assets/js/monaco-editor.js">
  <link rel="stylesheet" crossorigin href="./sql-ide-embedded.css">
</head>

<body>
    <h1>Erstes Beispiel</h1>

    <div class="sql-online" style="width: calc(100% - 10px); height: 300px; margin-left: 5px" data-sql-online="{
        'id': 'abcd',
        'databaseURL': 'assets/databases/world1.sqLite',
        'enableFileAccess': true
    }">
        <script type="text/plain" title="Test1.sql" data-type="sql">
select * from test;
                    </script>
    </div>

    <button id="test-file-access-btn">Test File Access</button>
    <script>
        document.getElementById('test-file-access-btn').addEventListener('click', function() {
            fileAccessTester();
        });
    </script>

</body>

<script>
    function fileAccessTester() {
        console.log('Embedded-Test');
        let ide = window.sql_ide_access.getIDE('abcd');
        console.log('IDE: ' + ide);
        let files = ide.getFiles();
        console.log('Files: ' + files.length);
        for(let i = 0; i < files.length; i++){
        let file = files[i];
        console.log('Name: ' + file.getName());
        console.log('Quelltext:' + file.getText());
        }
    }
</script>

</html>